import{_ as l,r,c as n,o as a,e as d,b as u,f as h,t as f,n as m}from"./app--Vh3dkqs.js";const p={name:"DownloadButton",props:{url:{type:String,required:!0},text:{type:String,default:"下载源码"},showLoading:{type:Boolean,default:!0},showSuccess:{type:Boolean,default:!0},successDuration:{type:Number,default:3e3}},data(){return{loading:!1,success:!1}},computed:{buttonText(){return this.loading?"正在准备...":this.success?"下载成功":this.text},iconClass(){return this.loading?"fas fa-circle-notch fa-spin":this.success?"fas fa-check":"fas fa-download"}},methods:{handleDownload(){if(!(this.loading||this.success))if(this.showLoading){this.loading=!0;const e=setTimeout(()=>{this.startDownload(),this.showSuccess?(this.loading=!1,this.success=!0,setTimeout(()=>{this.success=!1},this.successDuration)):this.loading=!1,clearTimeout(e)},800)}else this.startDownload()},startDownload(){const e=document.createElement("a");e.href=this.url,e.download="",document.body.appendChild(e),e.click(),setTimeout(()=>{document.body.removeChild(e)},100),this.$emit("downloaded")}}},w=["disabled"],g={class:"text"},_={key:0,class:"progress"};function D(e,o,b,x,s,t){const i=r("IconDown");return a(),n("button",{class:m(["download-button",{loading:s.loading,success:s.success}]),onClick:o[0]||(o[0]=(...c)=>t.handleDownload&&t.handleDownload(...c)),disabled:s.loading||s.success},[d(i,{width:"30px"}),u("span",g,f(t.buttonText),1),s.loading?(a(),n("span",_)):h("",!0)],10,w)}const C=l(p,[["render",D],["__scopeId","data-v-a194ea52"]]);export{C as default};
